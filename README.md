# Job Seeker Lite

## Description

Job Seeker Lite is a Flask web application designed to help users search for job listings using the SerpApi Google Jobs search. It then uses the OpenRouter API with Google's Gemini model to summarize job descriptions and stores the processed job data in a Supabase PostgreSQL database.

## Features

-   Search for jobs based on title and location.
-   View a list of job results with company name, title, location, and description.
-   Automatic summarization of job descriptions using OpenRouter with Google's Gemini model.
-   Storage of job details (company, title, location, description, summary, extensions, via, job_highlights) in a Supabase database.
-   (Previously) Option to save job application tracking details to an Excel file (currently commented out).

## Setup and Installation

1.  **Clone the repository (if applicable):**
    ```bash
    git clone https://github.com/jsong1004/job-seeker.git
    cd job-seeker
    ```

2.  **Create a virtual environment (recommended):**
    ```bash
    python3 -m venv job-seeker-venv
    source job-seeker-venv/bin/activate  # On Windows use `venv\Scripts\activate`
    ```

3.  **Install dependencies:**
    ```bash
    pip3 install -r requirements.txt
    ```

4.  **Set up Environment Variables:**
    Create a `.env` file in the project root directory and add the following variables with your actual API keys and credentials:
    ```env
    SERPAPI_API_KEY="YOUR_SERPAPI_API_KEY"
    OPENROUTER_API_KEY="YOUR_OPENROUTER_API_KEY"
    OPENROUTER_MODEL="google/gemini-2.5-flash-preview-05-20" # Or your preferred model
    HTTP_REFERER="http://localhost:5001" # Your site URL for OpenRouter API
    SUPABASE_URL="YOUR_SUPABASE_PROJECT_URL"
    SUPABASE_KEY="YOUR_SUPABASE_ANON_KEY"
    ```
    -   `SERPAPI_API_KEY`: Your API key from [SerpApi](https://serpapi.com/).
    -   `OPENROUTER_API_KEY`: Your API key from [OpenRouter](https://openrouter.ai/).
    -   `OPENROUTER_MODEL`: (Optional) The specific model to use through OpenRouter (defaults to `google/gemini-2.5-flash-preview-05-20`).
    -   `HTTP_REFERER`: (Optional) Your site URL for OpenRouter API (defaults to `http://localhost:5001` for local development).
    -   `SUPABASE_URL`: Your Supabase project URL.
    -   `SUPABASE_KEY`: Your Supabase project's `anon` (public) key.

5.  **Set up Supabase Database:**
    -   Create a new project in [Supabase](https://supabase.com/).
    -   In the SQL Editor, create the `jobs` table using the following schema (or adapt as needed):
        ```sql
        -- Create the jobs table
        CREATE TABLE public.jobs (
            id bigint GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
            created_at timestamp with time zone DEFAULT now() NOT NULL,
            company_name text,
            title text,
            location text,
            description text,
            summary text,
            extensions text,
            via text,
            job_highlights text
        );

        -- Add comments (optional)
        COMMENT ON TABLE public.jobs IS 'Stores job listings found and processed by the Job Seeker Lite app.';
        -- ... (add other comments as desired) ...

        -- Create indexes for faster searching/filtering
        CREATE INDEX idx_jobs_title ON public.jobs (title);
        CREATE INDEX idx_jobs_company_name ON public.jobs (company_name);
        CREATE INDEX idx_jobs_location ON public.jobs (location);
        CREATE INDEX idx_jobs_created_at ON public.jobs (created_at DESC);

        -- Enable Row Level Security (Recommended)
        ALTER TABLE public.jobs ENABLE ROW LEVEL SECURITY;

        -- Policy to allow anonymous users to insert data
        CREATE POLICY "Allow anon insert on jobs"
        ON public.jobs
        FOR INSERT
        TO anon
        WITH CHECK (true);

        -- Policy to allow anonymous users to read data
        CREATE POLICY "Allow anon select on jobs"
        ON public.jobs
        FOR SELECT
        TO anon
        USING (true);
        ```

## Usage

1.  Ensure your virtual environment is activated and environment variables are set.
2.  Run the Flask application:
    ```bash
    python3 app.py
    ```
3.  Open your web browser and navigate to `http://127.0.0.1:5001` (or the port specified in your terminal).
4.  Enter a job title and location in the form and click "Search".
5.  The results will be displayed on the page, and the job data will be saved to your Supabase database.

## Technologies Used

-   **Backend:** Python, Flask
-   **Job Search:** SerpApi (Google Jobs Engine)
-   **AI Summarization:** OpenRouter with Google's Gemini model
-   **Database:** Supabase (PostgreSQL)
-   **Environment Management:** python-dotenv
-   **Data Handling (for Excel, if re-enabled):** Pandas, openpyxl

## Future Improvements (Optional)

-   User authentication to save jobs per user.
-   More advanced filtering and sorting of job results.
-   Tracking application status (Applied, Interview, Offer, etc.).
-   UI/UX enhancements.
-   More robust error handling and logging.